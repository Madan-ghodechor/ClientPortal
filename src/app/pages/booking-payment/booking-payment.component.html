<div class="container-fluid p-0 m-0">
    <br>
    <div class="row p-3 pe-2 m-0 main-content shadow ">
        <div class="content">
            <div class="row loginDesign" *ngIf="!userDetails">
                <div class="col-md-12 login-tabs" *ngIf="hideShowLoginHeader">
                    @for (div of loginMethods; track $index) {
                    @if (div.id!=3) {
                    <div class="tabs text-center" *ngIf="div.id!=4"
                        (click)="toggleLogin(div.id); setActiveLogin(div.id); " [class.active]="div.active">
                        {{ div.name }}
                    </div>
                    }
                    }
                </div>
                <div [ngSwitch]="true" class="tabs">
                    <!------------------------- Login Form -------------------------->
                    <div *ngSwitchCase="loginMethods[0].show">
                        <form [formGroup]="LoginForm" (submit)="submitLoginForm()">
                            <div class="row pt-3">
                                <div class="col-md-12 mt-2">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <mat-icon matPrefix class="fa fa-envelope"></mat-icon>
                                        <input matInput placeholder="EMAIL/USERNAME" formControlName="username"
                                            required>

                                        <mat-error
                                            *ngIf="LoginForm.get('username').hasError('required') || LoginForm.get('username').touched && LoginForm.get('username').valid">
                                            Please enter email/username
                                        </mat-error>

                                        <mat-error *ngIf="LoginForm.get('username').hasError('pattern')">
                                            Please enter a valid email/username
                                        </mat-error>

                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 mt-2">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input [type]="login_input" matInput placeholder="PASSWORD"
                                            formControlName="password" required>
                                        <mat-icon matPrefix class="fa fa-lock"> </mat-icon>
                                        <mat-icon *ngIf="loginPassShow" (click)="showPassword('login_pass')"
                                            style="cursor: pointer;" matSuffix class="fa fa-eye">
                                        </mat-icon>
                                        <mat-icon *ngIf="!loginPassShow" (click)="showPassword('login_pass')"
                                            style="cursor: pointer;" matSuffix class="fa fa-eye-slash">
                                        </mat-icon>

                                        <mat-error
                                            *ngIf="LoginForm.get('password').hasError('required') || LoginForm.get('password').touched">
                                            Please enter password
                                        </mat-error>

                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 d-flex">
                                    <mat-checkbox class="example-margin" formControlName="terms_and_cond"
                                        required></mat-checkbox>
                                    <p style="font-size: 13px; margin-top: 9px;">I accept all the <a class="links"
                                            routerLink="/terms-and-condition" target="_blank">Terms
                                            and Conditions</a> and <a class="links" routerLink="/cancellation-policy"
                                            target="_blank">Cancellation
                                            Policy.</a></p>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 pt-0">
                                    <p style="font-size: 13px;"> &nbsp;&nbsp; <a class="links"
                                            (click)="manageLinks('forget-password');">Forget Password ?</a>
                                    </p>
                                </div>
                                <div class="col-md-12">
                                    <button class="btn login-btn">Login</button>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 pt-2 text-center">
                                    <p style="font-size: 14px;"><a class="links"
                                            (click)="manageLinks('create-new')">Create New Account</a></p>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!------------------------- Login Form -------------------------->

                    <!------------------------- Login With OTP Form -------------------------->
                    <div *ngSwitchCase="loginMethods[1].show">
                        <form [formGroup]="LoginWithOtp" (submit)="submitLoginWithOtp()" *ngIf="!hideShowOtpForm">
                            <div class="row">
                                <div class="col-md-12 mb-2">
                                    <mat-form-field class="example-full-width w-100 mt-4 pt-1">
                                        <span matTextPrefix style="cursor: pointer; font-size: 13px;"
                                            (click)="toggleDropdown()">
                                            <i [class]="selectedOption.flag" style="width: 21px !important;"></i>{{
                                            selectedOption.code }} <i class="fa fa-caret-down"></i> &nbsp;
                                        </span>
                                        <input matInput placeholder="Enter Your Contact No"
                                            formControlName="mobileNumber" required>
                                        <mat-error
                                            *ngIf="LoginWithOtp.get('mobileNumber').hasError('required') || LoginWithOtp.get('mobileNumber').touched && LoginWithOtp.get('mobileNumber').valid">
                                            Please enter contact number
                                        </mat-error>

                                        <mat-error *ngIf="LoginWithOtp.get('mobileNumber').hasError('pattern')">
                                            Please enter a valid contact number
                                        </mat-error>
                                    </mat-form-field>
                                    <ul class="dropdown-list" *ngIf="isDropdownOpen">
                                        <li *ngFor="let country of helpers.countriesWithFlags"
                                            (click)="selectOption(country)">
                                            <i [class]="country.flag" loading="lazy"></i> {{ country.code +"
                                            "+
                                            country.name }}
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-12">
                                    <button class="btn login-btn">Continue</button>
                                </div>
                            </div>
                        </form>
                        <form [formGroup]="ConfirmOtpForm" (submit)="submitConfirmOtp()" *ngIf="hideShowOtpForm">
                            <div class="row">
                                <div class="col-md-12 mb-2">
                                    <mat-form-field class="example-full-width w-100 mt-4 pt-1">
                                        <input matInput placeholder="Enter otp sent to your number."
                                            formControlName="otp" required>
                                        <mat-error
                                            *ngIf="ConfirmOtpForm.get('otp').hasError('required') || ConfirmOtpForm.get('otp').touched && ConfirmOtpForm.get('otp').valid ">
                                            Please enter contact number
                                        </mat-error>
                                        <mat-error>please enter otp</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <button class="btn login-btn">Continue</button>
                                </div>
                                <div class="col-md-6 mt-0 mb-0 pt-2">
                                    <p style="font-size: 12px;"><a class="links">Resend Otp</a></p>
                                </div>
                                <div class="col-md-6 mt-0 mb-0 pt-2 text-end">
                                    <p style="font-size: 12px;"><a style="text-decoration: none;"
                                            class="text-danger">Valid for 15
                                            minutes</a></p>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!------------------------- Login With OTP Form -------------------------->

                    <!------------------------- Forget Password -------------------------->
                    <div *ngSwitchCase="loginMethods[2].show">
                        <form [formGroup]="resetPassword" (submit)="submitResetPasswordForm()">
                            <div class="row pt-3">
                                <div class="col-md-12 mt-2">
                                    <p style="color: rgb(106, 106, 106); font-size: 15px;">Please Enter your
                                        Registered Email Address to reset your
                                        password</p>
                                </div>
                                <div class="col-md-12 mb-2">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input matInput placeholder="EMAIL/USERNAME" formControlName="username"
                                            required>
                                        <mat-icon matPrefix class="fa fa-envelope"> </mat-icon>

                                        <mat-error
                                            *ngIf="resetPassword.get('username').hasError('required') || resetPassword.get('username').touched && resetPassword.get('username').valid">
                                            Please enter email/username
                                        </mat-error>

                                        <mat-error *ngIf="resetPassword.get('username').hasError('pattern')">
                                            Please enter a valid email/username
                                        </mat-error>

                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <button class="btn login-btn">Send Link</button>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 pt-2 text-center">
                                    <p style="font-size: 14px;"><a class="links" (click)="manageLinks('login')">Sign
                                            In</a></p>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!------------------------- Forget Password -------------------------->

                    <!------------------------- Sign Up -------------------------->
                    <div *ngSwitchCase="loginMethods[3].show">
                        <form [formGroup]="signupUserForm" (submit)="submitSignUpForm()">
                            <div class="row pt-3">
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input matInput placeholder="FIRST NAME" formControlName="first_name" required>
                                        <mat-icon matPrefix class="fa fa-user"> </mat-icon>
                                        <mat-error
                                            *ngIf="signupUserForm.get('first_name').hasError('required') || signupUserForm.get('first_name').touched">
                                            Please enter first
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input matInput placeholder="LAST NAME" formControlName="last_name" required>
                                        <mat-icon matPrefix class="fa fa-user"> </mat-icon>
                                        <mat-error
                                            *ngIf="signupUserForm.get('last_name').hasError('required') || signupUserForm.get('last_name').touched">
                                            Please enter last name
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input matInput placeholder="EMAIL" formControlName="email" required>
                                        <mat-icon matPrefix class="fa fa-envelope"> </mat-icon>

                                        <mat-error
                                            *ngIf="signupUserForm.get('email').hasError('required') || signupUserForm.get('email').touched && signupUserForm.get('email').valid">
                                            Please enter email
                                        </mat-error>

                                        <mat-error *ngIf="signupUserForm.get('email').hasError('pattern')">
                                            Please enter a valid email
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <span matTextPrefix
                                            style="cursor: pointer; font-size: 13px; margin-left: -10px;"
                                            (click)="toggleDropdown()">
                                            <!-- <i [class]="selectedOptionNewUser.flag" style="width: 21px !important;"></i> -->
                                            {{
                                            selectedOptionNewUser.code }} <i class="fa fa-caret-down"></i>
                                            &nbsp;
                                        </span>
                                        <input matInput placeholder="CONTACT NO" formControlName="contact_no" required>
                                        <mat-error
                                            *ngIf="signupUserForm.get('contact_no').hasError('required') || signupUserForm.get('contact_no').touched && signupUserForm.get('contact_no').valid">
                                            Please enter contact no.
                                        </mat-error>

                                        <mat-error *ngIf="signupUserForm.get('contact_no').hasError('pattern')">
                                            Please enter a valid contact no.
                                        </mat-error>
                                    </mat-form-field>
                                    <ul class="dropdown-list" *ngIf="isDropdownOpen">
                                        <li *ngFor="let country of helpers.countriesWithFlags"
                                            (click)="selectOptionNewUser(country)">
                                            <i [class]="country.flag" loading="lazy"></i> {{ country.code +"
                                            "+
                                            country.name }}
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input [type]="newUser_input" matInput placeholder="PASSWORD"
                                            formControlName="password" required>
                                        <mat-icon matPrefix class="fa fa-lock"> </mat-icon>
                                        <mat-icon *ngIf="newUserPassShow" (click)="showPassword('new_user_pass')"
                                            style="cursor: pointer;" matSuffix class="fa fa-eye"> </mat-icon>
                                        <mat-icon *ngIf="!newUserPassShow" (click)="showPassword('new_user_pass')"
                                            style="cursor: pointer;" matSuffix class="fa fa-eye-slash"> </mat-icon>
                                        <mat-error
                                            *ngIf="signupUserForm.get('password').hasError('required') || signupUserForm.get('password').touched && signupUserForm.get('password').valid">
                                            Please enter password
                                        </mat-error>
                                        <mat-error *ngIf="signupUserForm.get('password').hasError('pattern')">
                                            ( Minimun length 8 , uppercase, lowercase, number and special
                                            symbol
                                            )
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width w-100 mt-1">
                                        <input [type]="newConfirm_input" matInput placeholder="CONFIRM PASSWORD"
                                            formControlName="confirm" required (keyup)="getPasswordMatched()">
                                        <mat-icon matPrefix class="fa fa-lock"> </mat-icon>
                                        <mat-icon *ngIf="newConfirmPassShow"
                                            (click)="showPassword('new_user_pass_confirm')" style="cursor: pointer;"
                                            matSuffix class="fa fa-eye">
                                        </mat-icon>
                                        <mat-icon *ngIf="!newConfirmPassShow"
                                            (click)="showPassword('new_user_pass_confirm')" style="cursor: pointer;"
                                            matSuffix class="fa fa-eye-slash">
                                        </mat-icon>
                                        <mat-error
                                            *ngIf="signupUserForm.get('confirm').hasError('required') || signupUserForm.get('confirm').touched && signupUserForm.get('confirm').valid">
                                            Please enter confirm password
                                        </mat-error>
                                        <mat-error *ngIf="signupUserForm.get('confirm').hasError('pattern')">
                                            ( Minimun length 8 , uppercase, lowercase, number and special
                                            symbol
                                            )
                                        </mat-error>
                                        <mat-hint *ngIf="passwordMissMatch"
                                            style="color: #f61d1d; font-size: 11px; font-weight: 500;">
                                            Password dosen't match
                                        </mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 d-flex">
                                    <mat-checkbox class="example-margin" formControlName="check"></mat-checkbox>
                                    <p style="font-size: 13px; margin-top: 9px;">I accept all the <a class="links"
                                            routerLink="/terms-and-condition" target="_blank">Terms
                                            and Conditions</a> and <a class="links" routerLink="/cancellation-policy"
                                            target="_blank">Cancellation
                                            Policy.</a></p>
                                </div>
                                <div class="col-md-12">
                                    <button class="btn login-btn">Sign Up</button>
                                </div>
                                <div class="col-md-12 mt-0 mb-0 pt-2 text-center">
                                    <p style="font-size: 14px;"><a class="links" (click)="manageLinks('login')">Already
                                            Signed</a></p>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!------------------------- End Sign Up -------------------------->

                </div>
            </div>
            <mat-stepper #stepper [linear]="loggedIn" *ngIf="userDetails">
                <mat-step>
                    <ng-template matStepLabel>User Details</ng-template>

                    <div class="row pt-md-2 w-100 userDetailsPaymentBooking" *ngIf="userDetails">
                        <div class="w-100 px-5">
                            <div class="row px-4 pt-2">
                                <div class="col-md-12 mt-3">
                                    <mat-label class="input-labels" style="font-size: 15px;">Full
                                        Name</mat-label>
                                    <mat-form-field class="example-full-width w-100 ">
                                        <input matInput [value]="userDetails.name" required readonly>
                                        <mat-icon matPrefix class="fa fa-user"> </mat-icon>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 mt-0">
                                    <mat-label class="input-labels" style="font-size: 15px;">Phone</mat-label>
                                    <mat-form-field class="example-full-width w-100 ">
                                        <input matInput [value]="userDetails.contact_no" required readonly>
                                        <mat-icon matPrefix class="fa fa-phone"> </mat-icon>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 mt-0">
                                    <mat-label class="input-labels" style="font-size: 15px;">Email</mat-label>
                                    <mat-form-field class="example-full-width w-100 ">
                                        <input matInput [value]="userDetails.email" required readonly>
                                        <mat-icon matPrefix class="fa fa-envelope"> </mat-icon>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6 mt-md-3">
                                    <!-- <button class="btn login-btn" type="button"> <i
                                                    class="fa fa-caret-left "></i>&nbsp;&nbsp; Go Back </button> -->
                                </div>
                                <div class="col-md-6 mt-md-3">
                                    <button class="btn login-btn" type="button" mat-button matStepperNext> Next Step
                                        &nbsp;&nbsp; <i class="fa fa-caret-right"></i> </button>

                                </div>
                            </div>
                        </div>
                    </div>
                </mat-step>
                <mat-step [stepControl]="userDetailsForm" errorMessage="is required.">
                    <ng-template matStepLabel>Passenger Details</ng-template>

                    <div class="row pt-md-2 w-100 userDetailsPaymentBooking" *ngIf="userDetails">
                        <form [formGroup]="userDetailsForm">
                            <div class="w-100 px-5">
                                <div class="row px-4 pt-2">
                                    <div class="col-md-12 mt-3">
                                        <mat-label class="input-labels" style="font-size: 15px;">Full Name</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="full_name" required>
                                            <mat-icon matPrefix class="fa fa-user"> </mat-icon>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('full_name').hasError('required') && userDetailsForm.get('full_name').touched">
                                                Full Name is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('full_name').invalid && !userDetailsForm.get('full_name').hasError('required') && userDetailsForm.get('full_name').touched">
                                                enter a valid Full Name.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Phone</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="phone" required>
                                            <mat-icon matPrefix class="fa fa-phone"> </mat-icon>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('phone').hasError('required') && userDetailsForm.get('phone').touched">
                                                phone number is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('phone').invalid && !userDetailsForm.get('phone').hasError('required') && userDetailsForm.get('phone').touched">
                                                enter a valid phone no.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Alternate
                                            Number</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="phone2">
                                            <mat-icon matPrefix class="fa fa-phone"> </mat-icon>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('phone2').hasError('required') && userDetailsForm.get('phone2').touched">
                                                alternate number is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('phone2').invalid && !userDetailsForm.get('phone2').hasError('required') && userDetailsForm.get('phone2').touched">
                                                enter a valid phone no.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Email</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="email" required>
                                            <mat-icon matPrefix class="fa fa-envelope"> </mat-icon>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('email').hasError('required') && userDetailsForm.get('email').touched">
                                                email is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="userDetailsForm.get('email').invalid && !userDetailsForm.get('email').hasError('required') && userDetailsForm.get('email').touched">
                                                enter a valid email.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Special
                                            Request</mat-label>
                                        <textarea matInput class="w-100" formControlName="special_request" style="border: none;
                                            border-bottom: 1px solid #9b9b9b;
                                            outline: none;
                                            font-weight: 360;
                                            font-size: 13px;
                                            padding: 4px; padding-bottom: 5px; letter-spacing: 1px;
                                            " rows="1"></textarea>
                                    </div>
                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" matStepperPrevious> <i
                                                class="fa fa-caret-left "></i>&nbsp;&nbsp; Go Back </button>
                                    </div>
                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" matStepperNext> Next Step
                                            &nbsp;&nbsp; <i class="fa fa-caret-right"></i> </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </mat-step>
                <mat-step [stepControl]="pickupGstDetailsForm" errorMessage="is required.">
                    <ng-template matStepLabel>Pickup/GST Details</ng-template>

                    <div class="row pt-md-2 w-100 userDetailsPaymentBooking" *ngIf="userDetails">
                        <form [formGroup]="pickupGstDetailsForm">
                            <div class="w-100 px-5">
                                <div class="row px-4 pt-2">
                                    <div class="col-md-12 mt-3">
                                        <mat-label class="input-labels" style="font-size: 15px;">Pickup City</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="pickupCity" required readonly>
                                            <mat-icon matPrefix class="fa fa-map-marker"> </mat-icon>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-12 mt-0 gstDetailsLocation">
                                        <mat-label class="input-labels" style="font-size: 15px;">Pickup
                                            Location</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput formControlName="pickupLocation"
                                                placeholder="pickup location" required id="gstDetailsPickupLocation"
                                                #gstDetailsPickupLocation
                                                (keypress)="callExternalFunction(gstDetailsPickupLocation)"
                                                (blur)="getResponse('gstDetailsPickupLocation')">
                                            <mat-icon matPrefix class="fa fa-map-marker"> </mat-icon>
                                            <mat-error>pickup location is required</mat-error>

                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-12 mt-0 ">
                                        <mat-label class="input-labels" style="font-size: 15px;">GST</mat-label>
                                        &nbsp;&nbsp;
                                        <mat-slide-toggle class="m-2" labelPosition="before"
                                            (change)="gstToggle($event)"> </mat-slide-toggle>
                                    </div>

                                    @if (isGST) {

                                    <div class="col-md-12 mt-2">
                                        <mat-label class="input-labels" style="font-size: 15px;">User GST
                                            Number</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput required formControlName="userGstNumber">
                                            <mat-icon matPrefix class="fa fa-hashtag"> </mat-icon>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('userGstNumber').hasError('required') && pickupGstDetailsForm.get('userGstNumber').touched">
                                                GST number is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('userGstNumber').invalid && !pickupGstDetailsForm.get('userGstNumber').hasError('required') && pickupGstDetailsForm.get('userGstNumber').touched">
                                                enter a valid GST no.
                                            </mat-error>
                                        </mat-form-field>

                                    </div>

                                    <div class="col-md-12 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Registered Business
                                            Name</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput required formControlName="bussiness_name">
                                            <mat-icon matPrefix class="fa fa-hashtag"> </mat-icon>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('bussiness_name').hasError('required') && pickupGstDetailsForm.get('bussiness_name').touched">
                                                Bussiness name is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('bussiness_name').invalid && !pickupGstDetailsForm.get('bussiness_name').hasError('required') && pickupGstDetailsForm.get('bussiness_name').touched">
                                                enter a valid bussiness name.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-md-12 mt-0">
                                        <mat-label class="input-labels" style="font-size: 15px;">Registered Business
                                            Address</mat-label>
                                        <mat-form-field class="example-full-width w-100 ">
                                            <input matInput required formControlName="bussiness_address">
                                            <mat-icon matPrefix class="fa fa-building"> </mat-icon>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('bussiness_address').hasError('required') && pickupGstDetailsForm.get('bussiness_address').touched">
                                                bussiness address is required.
                                            </mat-error>
                                            <mat-error
                                                *ngIf="pickupGstDetailsForm.get('bussiness_address').invalid && !pickupGstDetailsForm.get('bussiness_address').hasError('required') && pickupGstDetailsForm.get('bussiness_address').touched">
                                                enter a valid bussiness address.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                    }


                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" matStepperPrevious> <i
                                                class="fa fa-caret-left "></i>&nbsp;&nbsp; Go Back </button>
                                    </div>
                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" matStepperNext> Next Step
                                            &nbsp;&nbsp; <i class="fa fa-caret-right"></i> </button>
                                    </div>
                                    <div class="col-md-12">
                                        <h6> &nbsp; </h6>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </mat-step>
                <mat-step>
                    <ng-template matStepLabel>Payment Information</ng-template>

                    <div class="row pt-md-2 w-100 userDetailsPaymentBooking" *ngIf="userDetails">
                        <form [formGroup]="paymentStatusForm">
                            <div class="w-100 px-5">
                                <div class="row px-4 pt-4">
                                    <div class="col-md-12">
                                        <div class="alert alert-danger" role="alert"
                                            style="font-size: 12px; margin: 0px; padding: 7px;"
                                            *ngIf="paymentStatusForm.invalid && paymentGatewayValid">
                                            Accept Terms and Conditions
                                        </div>
                                    </div>
                                    <div class="col-md-12 mt-4">
                                        <mat-label class="input-labels" style="font-size: 15px;">Payment
                                            Option</mat-label> <br>
                                        <mat-radio-group formControlName="paymentOption">
                                            <mat-radio-button class="example-radio-button mt-2"
                                                [value]="((cabDetails.base_fare * 25) / 100 ) * 1.05">
                                                <p style="margin-top:15px; color: rgb(109, 109, 109);"> 
                                                    25% [ {{ ( (cabDetails.base_fare * 25) / 100 ) * 1.05 | currency : 'INR' }} ]
                                                </p>
                                            </mat-radio-button>
                                            &nbsp;
                                            &nbsp;
                                            &nbsp;
                                            <mat-radio-button class="example-radio-button"
                                                [value]="( (cabDetails.base_fare * 100) / 100 ) * 1.05">
                                                <p style="margin-top:15px; color: rgb(109, 109, 109);"> 100% [ {{
                                                    ((cabDetails.base_fare * 100) / 100 ) * 1.05 | currency : 'INR' }} ] </p>
                                            </mat-radio-button>
                                        </mat-radio-group>
                                    </div>

                                    <div class="col-md-12 mt-3 mb-0 d-flex">
                                        <mat-checkbox class="example-margin" formControlName="terms_and_cond"
                                            required></mat-checkbox>
                                        <p style="font-size: 14px; margin-top: 10px;">I Accept All The <a class="links"
                                                routerLink="/terms-and-condition" target="_blank">Terms
                                                and Conditions</a> and <a class="links"
                                                routerLink="/cancellation-policy" target="_blank">Cancellation
                                                Policy.</a></p>
                                    </div>

                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" matStepperPrevious> <i
                                                class="fa fa-caret-left "></i>&nbsp;&nbsp; Go Back </button>
                                    </div>
                                    <div class="col-md-6 mt-md-3">
                                        <button class="btn login-btn" type="button" (click)="openPaymentGateway()">
                                            Proceed
                                            To Payment &nbsp;&nbsp; <i class="fa fa-caret-right"></i> </button>
                                    </div>
                                    <div class="col-md-12">
                                        <h6> &nbsp; </h6>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </mat-step>
            </mat-stepper>

        </div>
        <div class="booking-details">
            <div class="heading">
                Booking Details
            </div>
            <div class="content h-auto">
                <div class="maal">
                    <table class="table w-100 table-bordered">
                        <tr>
                            <td colspan="2">
                                <p> <b>Sedan | Local, 8 Hours 80 Kms</b> </p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p>Pickup:</p>
                            </td>
                            <td>
                                <p> <b> 3 Sep' 24 | 07 : 45 PM</b></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p>Pickup City : </p>
                            </td>
                            <td>
                                <p> <b>Pune, Maharashtra </b> </p>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <p class="mt-3">Fare Breakdown</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p>Base Fare:</p>
                            </td>
                            <td>
                                <p> <b>₹ 2,100.00 </b> </p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p>GST Charge $5%:</p>
                            </td>
                            <td>
                                <p> <b>₹ 105.00</b> </p>
                            </td>
                        </tr>
                    </table>
                    <div class="estimated-cost text-center">
                        <p class="fs-5"> Estimated Trip Cost </p>
                        <p class="rupee"> ₹ 2,205.00 </p>
                        <p class="include"> ( inclusive of All Taxes )</p>
                    </div>
                    <div class="img">
                        <img class="w-100"
                            src="https://testretail.fleet247.in/retail_assets/images/fleet-assets/Razorpay-bookingfor-assets/PAYMENT%20METHOD.svg"
                            alt="">
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<br><br>